{"ast":null,"code":"var _jsxFileName = \"/Users/richardhaynes/Developer/Projects/C#/CSharpPracticalDataStructuresAndAlgorithms/src/DataStructures/Queues/PriorityQueue/EmergencyDispatch/EmergencyDispatch/ClientApp/src/components/api-authorization/LoginMenu.js\";\nimport React, { Component, Fragment } from 'react';\nimport { NavItem, NavLink } from 'reactstrap';\nimport { Link } from 'react-router-dom';\nimport authService from './AuthorizeService';\nimport { ApplicationPaths } from './ApiAuthorizationConstants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class LoginMenu extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isAuthenticated: false,\n      userName: null\n    };\n  }\n\n  componentDidMount() {\n    this._subscription = authService.subscribe(() => this.populateState());\n    this.populateState();\n  }\n\n  componentWillUnmount() {\n    authService.unsubscribe(this._subscription);\n  }\n\n  async populateState() {\n    const [isAuthenticated, user] = await Promise.all([authService.isAuthenticated(), authService.getUser()]);\n    this.setState({\n      isAuthenticated,\n      userName: user && user.name\n    });\n  }\n\n  render() {\n    const {\n      isAuthenticated,\n      userName\n    } = this.state;\n\n    if (!isAuthenticated) {\n      const registerPath = `${ApplicationPaths.Register}`;\n      const loginPath = `${ApplicationPaths.Login}`;\n      return this.anonymousView(registerPath, loginPath);\n    } else {\n      const profilePath = `${ApplicationPaths.Profile}`;\n      const logoutPath = `${ApplicationPaths.LogOut}`;\n      const logoutState = {\n        local: true\n      };\n      return this.authenticatedView(userName, profilePath, logoutPath, logoutState);\n    }\n  }\n\n  authenticatedView(userName, profilePath, logoutPath, logoutState) {\n    return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(NavItem, {\n        children: /*#__PURE__*/_jsxDEV(NavLink, {\n          tag: Link,\n          className: \"text-dark\",\n          to: profilePath,\n          children: [\"Hello \", userName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n        children: /*#__PURE__*/_jsxDEV(NavLink, {\n          replace: true,\n          tag: Link,\n          className: \"text-dark\",\n          to: logoutPath,\n          state: logoutState,\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this);\n  }\n\n  anonymousView(registerPath, loginPath) {\n    return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(NavItem, {\n        children: /*#__PURE__*/_jsxDEV(NavLink, {\n          tag: Link,\n          className: \"text-dark\",\n          to: registerPath,\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n        children: /*#__PURE__*/_jsxDEV(NavLink, {\n          tag: Link,\n          className: \"text-dark\",\n          to: loginPath,\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"names":["React","Component","Fragment","NavItem","NavLink","Link","authService","ApplicationPaths","LoginMenu","constructor","props","state","isAuthenticated","userName","componentDidMount","_subscription","subscribe","populateState","componentWillUnmount","unsubscribe","user","Promise","all","getUser","setState","name","render","registerPath","Register","loginPath","Login","anonymousView","profilePath","Profile","logoutPath","LogOut","logoutState","local","authenticatedView"],"sources":["/Users/richardhaynes/Developer/Projects/C#/CSharpPracticalDataStructuresAndAlgorithms/src/DataStructures/Queues/PriorityQueue/EmergencyDispatch/EmergencyDispatch/ClientApp/src/components/api-authorization/LoginMenu.js"],"sourcesContent":["import React, { Component, Fragment } from 'react';\r\nimport { NavItem, NavLink } from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport authService from './AuthorizeService';\r\nimport { ApplicationPaths } from './ApiAuthorizationConstants';\r\n\r\nexport class LoginMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isAuthenticated: false,\r\n      userName: null\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this._subscription = authService.subscribe(() => this.populateState());\r\n    this.populateState();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    authService.unsubscribe(this._subscription);\r\n  }\r\n\r\n  async populateState() {\r\n    const [isAuthenticated, user] = await Promise.all([authService.isAuthenticated(), authService.getUser()])\r\n    this.setState({\r\n      isAuthenticated,\r\n      userName: user && user.name\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { isAuthenticated, userName } = this.state;\r\n    if (!isAuthenticated) {\r\n      const registerPath = `${ApplicationPaths.Register}`;\r\n      const loginPath = `${ApplicationPaths.Login}`;\r\n      return this.anonymousView(registerPath, loginPath);\r\n    } else {\r\n      const profilePath = `${ApplicationPaths.Profile}`;\r\n      const logoutPath = `${ApplicationPaths.LogOut}`;\r\n      const logoutState = { local: true };\r\n      return this.authenticatedView(userName, profilePath, logoutPath, logoutState);\r\n    }\r\n  }\r\n\r\n  authenticatedView(userName, profilePath, logoutPath, logoutState) {\r\n    return (<Fragment>\r\n      <NavItem>\r\n        <NavLink tag={Link} className=\"text-dark\" to={profilePath}>Hello {userName}</NavLink>\r\n      </NavItem>\r\n      <NavItem>\r\n        <NavLink replace tag={Link} className=\"text-dark\" to={logoutPath} state={logoutState}>Logout</NavLink>\r\n      </NavItem>\r\n    </Fragment>);\r\n  }\r\n\r\n  anonymousView(registerPath, loginPath) {\r\n    return (<Fragment>\r\n      <NavItem>\r\n        <NavLink tag={Link} className=\"text-dark\" to={registerPath}>Register</NavLink>\r\n      </NavItem>\r\n      <NavItem>\r\n        <NavLink tag={Link} className=\"text-dark\" to={loginPath}>Login</NavLink>\r\n      </NavItem>\r\n    </Fragment>);\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}